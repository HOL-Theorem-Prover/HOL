EXTRA_CLEANS = mkword.exe selftest.exe

all: mkword.exe selftest.exe

wordFunctor.uo: wordFunctor.sml wordUtil.uo bitsTheory.uo numeral_bitsTheory.uo bitsLib.uo
	$(HOLMOSMLC) -c -toplevel Overlay.ui wordFunctor.sml

wordFunctorLib.uo: wordFunctorLib.sml bitsTheory.uo numeral_bitsTheory.uo bitsLib.uo
	$(HOLMOSMLC) -c -toplevel Overlay.ui wordFunctorLib.sml

mkword.uo: wordFunctor.uo mkword.sml
	$(HOLMOSMLC) -c -toplevel Overlay.ui wordFunctor.ui mkword.sml

mkword.exe: mkword.uo wordFunctorLib.uo
	$(HOLMOSMLC) -o $@ mkword.uo
	$(CP) $@ $(protect $(HOLDIR)/bin)

selftest.exe: selftest.uo
	$(HOLMOSMLC) -o $@ $<
